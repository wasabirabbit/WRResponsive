/*********************************************************************
*  #### Twitter Post Fetcher v10.0 ####
*  Coded by Jason Mayes 2013. A present to all the developers out there.
*  www.jasonmayes.com
*  Please keep this disclaimer with my code if you use it. Thanks. :-)
*  Got feedback or questions, ask here: 
*  http://www.jasonmayes.com/projects/twitterApi/
*  Updates will be posted to this site.
*
*  Modifications made by @itbusiness
*  http://itbusin.es
*  
*******************************1**************************************/
var twitterFetcher=twitterFetcher||function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e,t){for(var n=[],r=RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*"),s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n}var n="",r=20,i=!0,s=[],o=!1,u=!0,a=!0,f=null,l=!0,c=!0,h=null,p=!0;return{fetch:function(e,t,l,d,v,m,g,b,E,S){void 0===l&&(l=20);void 0===d&&(i=!0);void 0===v&&(v=!0);void 0===m&&(m=!0);void 0===g&&(g="default");void 0===b&&(b=!0);void 0===E&&(E=null);void 0===S&&(S=!0);o?s.push({id:e,domId:t,maxTweets:l,enableLinks:d,showUser:v,showTime:m,dateFunction:g,showRt:b,customCallback:E,showInteraction:S}):(o=!0,n=t,r=l,i=d,a=v,u=m,c=b,f=g,h=E,p=S,t=document.createElement("script"),t.type="text/javascript",t.src="//cdn.syndication.twimg.com/widgets/timelines/"+e+"?&lang=en&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(t))},callback:function(d){var m=document.createElement("div");m.innerHTML=d.body;"undefined"===typeof m.getElementsByClassName&&(l=!1);d=[];var g=[],b=[],E=[],S=[],T=0;if(l)for(m=m.getElementsByClassName("tweet");T<m.length;){0<m[T].getElementsByClassName("retweet-credit").length?E.push(!0):E.push(!1);if(!E[T]||E[T]&&c)d.push(m[T].getElementsByClassName("e-entry-title")[0]),S.push(m[T].getAttribute("data-tweet-id")),g.push(m[T].getElementsByClassName("p-author")[0]),b.push(m[T].getElementsByClassName("dt-updated")[0]);T++}else for(m=t(m,"tweet");T<m.length;)d.push(t(m[T],"e-entry-title")[0]),S.push(m[T].getAttribute("data-tweet-id")),g.push(t(m[T],"p-author")[0]),b.push(t(m[T],"dt-updated")[0]),0<t(m[T],"retweet-credit").length?E.push(!0):E.push(!1),T++;d.length>r&&(d.splice(r,d.length-r),g.splice(r,g.length-r),b.splice(r,b.length-r),E.splice(r,E.length-r));m=[];T=d.length;for(E=0;E<T;){if("string"!==typeof f){var N=new Date(b[E].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),N=f(N);b[E].setAttribute("aria-label",N);if(d[E].innerText)if(l)b[E].innerText=N;else{var C=document.createElement("p"),L=document.createTextNode(N);C.appendChild(L);C.setAttribute("aria-label",N);b[E]=C}else b[E].textContent=N}N="";i?(a&&(N+='<div class="user">'+e(g[E].innerHTML)+"</div>"),N+='<p class="tweet">'+e(d[E].innerHTML)+"</p>",u&&(N+='<p class="timePosted">'+b[E].getAttribute("aria-label")+"</p>")):d[E].innerText?(a&&(N+='<p class="user">'+g[E].innerText+"</p>"),N+='<p class="tweet">'+d[E].innerText+"</p>",u&&(N+='<p class="timePosted">'+b[E].innerText+"</p>")):(a&&(N+='<p class="user">'+g[E].textContent+"</p>"),N+='<p class="tweet">'+d[E].textContent+"</p>",u&&(N+='<p class="timePosted">'+b[E].textContent+"</p>"));p&&(N+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+S[E]+'" class="twitter_reply_icon">Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+S[E]+'" class="twitter_retweet_icon">Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+S[E]+'" class="twitter_fav_icon">Favorite</a></p>');m.push(N);E++}if(null==h){d=m.length;g=0;b=n;for(S="";g<d;)S+="<div>"+m[g]+"</div>",g++;b.innerHTML=S}else h(m);o=!1;0<s.length&&(twitterFetcher.fetch(s[0].id,s[0].domId,s[0].maxTweets,s[0].enableLinks,s[0].showUser,s[0].showTime,s[0].dateFunction,s[0].showRt,s[0].customCallback,s[0].showInteraction),s.splice(0,1))}}}()


/*--------------------------------------------------------------------------------------------
	@itbusiness
	http://itbusin.es
	
	App Store: TwitterFeed v1.1
	Updated: 20140310
--------------------------------------------------------------------------------------------*/
$(function(){var e={id:"385683507424395264",obj:$("[data-enable=twitterfeed]")[0],maxTweets:5,enableLinks:false,showUser:false,showTime:false,dateFunction:"",showRt:false,customCallback:null,showInteraction:false},t={};$.getJSON("js/plugin/tw-options.json",function(n){t=n;$.extend(true,e,t);$("[data-enable=twitterfeed]").each(function(t,n){var r=$(n),i=i||e;twitterFetcher.fetch(e.id,r[0],e.maxTweets,e.enableLinks,e.showUser,e.showTime,e.dateFunction,e.showRt,e.customCallback,e.showInteraction)})})})
